!function e(t,i,r){function n(o,a){if(!i[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return n(i?i:e)},d,d.exports,e,t,i,r)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(e,t,i){var r=e("./lib/int");t.exports=function(){var e=document.querySelector(".about");Draggable.create(e,{bounds:document.body,edgeResistance:1,type:"x, y",onDrag:function(e){TweenLite.to(this.target,.1,{x:this.x,y:this.y})}}),e.addEventListener("mouseover",function(){TweenLite.to(e,.4,{background:"rgba(255, 255, 255, 0)",color:"rgb(255, 255, 255)"})}),e.addEventListener("mouseout",function(){TweenLite.to(e,.4,{background:"rgba(255, 255, 255, 1)",color:"rgb(0, 0, 0)"})}),e.style.left=r(0,window.innerWidth-e.offsetWidth)+"px",e.style.top=r(0,window.innerHeight-e.offsetHeight)+"px"}()},{"./lib/int":3}],2:[function(e,t,i){t.exports=function(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status&&t(i)},i.open("GET",e,!0),i.send()}},{}],3:[function(e,t,i){t.exports=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{}],4:[function(e,t,i){t.exports=function(e,t,i){return e.substr(0,t)+i+e.substr(t+1)}},{}],5:[function(e,t,i){var r=e("./lib/get"),n=e("./music"),s=e("./scene"),o=(e("./about"),e("./menu"),new n),a=document.querySelector(".music-prev"),c=document.querySelector(".music-toggle"),h=document.querySelector(".music-next");o.audio.addEventListener("ended",function(){o.load(o.songNext)}),c.addEventListener("click",function(e){e.stopPropagation(),o.isPaused()?(this.classList.remove("is-paused"),o.play()):(this.classList.add("is-paused"),o.pause())}),a.addEventListener("click",function(e){e.stopPropagation(),c.classList.remove("is-paused"),o.prev()}),h.addEventListener("click",function(e){e.stopPropagation(),c.classList.remove("is-paused"),o.next()});var d=new s(o);d.createGeometry(),d.createLight(),d.createShaders(),d.render(),r("dist/svg/svg.svg",function(e){var t=document.createElement("div");t.style.display="none",t.innerHTML=e.responseText.replace(/\n/g,""),document.body.insertBefore(t,document.body.childNodes[0])}),window.addEventListener("resize",function(){d.resize()},!1),window.addEventListener("click",function(e){d.click(e)},!1),window.addEventListener("mousemove",function(e){d.mousemove(e)},!1),window.addEventListener("mousewheel",function(e){var t=Math.round(100*o.audio.volume)/100;e.wheelDelta<0&&t-.05>=0?t=Math.abs(t-.05):e.wheelDelta>0&&1>=t+.05&&(t=Math.abs(t+.05)),o.audio.volume=t})},{"./about":1,"./lib/get":2,"./menu":6,"./music":7,"./scene":12}],6:[function(e,t,i){var r=e("./lib/int"),n=e("./lib/replace");t.exports=function(){for(var e,t=document.querySelectorAll(".menu-link"),i=0;i<t.length;i++){var s=t[i],o=s.parentNode;Draggable.create(o,{bounds:document.body,dragClickables:!0,edgeResistance:1,type:"x, y",onDrag:function(e){TweenLite.to(this.target,.1,{x:this.x,y:this.y})}}),s.addEventListener("mouseover",function(){var t=this;e=setInterval(function(){var e=t.innerHTML.trim();t.innerHTML=n(e,r(0,e.length-1),String.fromCharCode(r(65,122)))},1),TweenLite.to(t,.4,{background:"rgba(255, 255, 255, 1)",color:"rgb(0, 0, 0)"})}),s.addEventListener("mouseout",function(){var t=this,i=t.getAttribute("data-text");clearInterval(e);var r=0,s=setInterval(function(){if(r<i.length){var e=t.innerHTML.trim();t.innerHTML=n(e,r,i[r])}else clearInterval(s);r++},1);TweenLite.to(t,.4,{background:"rgba(255, 255, 255, 0)",color:"rgb(255, 255, 255)"})}),o.style.left=r(0,window.innerWidth-s.offsetWidth)+"px",o.style.top=r(0,window.innerHeight-s.offsetHeight)+"px"}}()},{"./lib/int":3,"./lib/replace":4}],7:[function(e,t,i){function r(){this.audio=new Audio,this.audio.crossOrigin="anonymous",(window.AudioContext||window.webkitAudioContext)&&(this.context=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.context.createAnalyser(),this.analyser.smoothingTimeConstant=.1,this.analyser.fftSize=2048,this.analyser.connect(this.context.destination),this.src=this.context.createMediaElementSource(this.audio),this.src.connect(this.context.destination),this.src.connect(this.analyser),this.frequency=new Uint8Array(this.analyser.frequencyBinCount)),this.songs=["https://soundcloud.com/leagueoflegends/dj-sona-kinetic-the-crystal","https://soundcloud.com/odesza/say_my_name","https://soundcloud.com/edbangerrecords/sebastian-embody","https://soundcloud.com/madeon/pay-no-mind","https://soundcloud.com/futureclassic/hayden-james-something-about-you-2","https://soundcloud.com/kflay/5-am-w-something-a-la-mode","https://soundcloud.com/majorlazer/major-lazer-dj-snake-lean-on-feat-mo","https://soundcloud.com/themagician/lykke-li-i-follow-rivers-the-magician-remix","https://soundcloud.com/rac/lana-del-rey-blue-jeans-rac"],this.song=Math.floor(Math.random()*this.songs.length),this.songPrev=null,this.songNext=null,this.load(this.song)}var n=e("./lib/get");t.exports=r,r.prototype.isPaused=function(){return this.audio.paused},r.prototype.isPlaying=function(){return!this.audio.paused},r.prototype.getFrequency=function(){return this.analyser.getByteFrequencyData(this.frequency),this.frequency},r.prototype.load=function(e){var t=this.audio,i=this.songs;n("//api.soundcloud.com/resolve.json?url="+i[e]+"&client_id=78c6552c14b382e23be3bce2fc411a82",function(e){var i=JSON.parse(e.responseText),r=document.querySelector(".music-title"),n=document.querySelector(".music-user");t.src=i.stream_url+"?client_id=78c6552c14b382e23be3bce2fc411a82",t.play(),r.setAttribute("href",i.permalink_url),r.textContent=i.title,n.setAttribute("href",i.user.permalink_url),n.textContent=i.user.username}),this.song=e,this.songPrev=0!=this.song?this.song-1:this.songs.length-1,this.songNext=this.song<this.songs.length-1?this.song+1:0},r.prototype.next=function(){this.load(this.songNext)},r.prototype.prev=function(){this.load(this.songPrev)},r.prototype.pause=function(){this.audio.pause()},r.prototype.play=function(){this.audio.play()}},{"./lib/get":2}],8:[function(e,t,i){t.exports=THREE.EffectComposer=function(e,t){if(this.renderer=e,void 0===t){var i=e.getPixelRatio(),r=Math.floor(e.context.canvas.width/i)||1,n=Math.floor(e.context.canvas.height/i)||1,s={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1};t=new THREE.WebGLRenderTarget(r,n,s)}this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===THREE.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader)},THREE.EffectComposer.prototype={swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2;var t,i,r=!1,n=this.passes.length;for(i=0;n>i;i++)if(t=this.passes[i],t.enabled){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),t.needsSwap){if(r){var s=this.renderer.context;s.stencilFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.stencilFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}t instanceof THREE.MaskPass?r=!0:t instanceof THREE.ClearMaskPass&&(r=!1)}},reset:function(e){if(void 0===e){e=this.renderTarget1.clone();var t=this.renderer.getPixelRatio();e.width=Math.floor(this.renderer.context.canvas.width/t),e.height=Math.floor(this.renderer.context.canvas.height/t)}this.renderTarget1.dispose(),this.renderTarget1=e,this.renderTarget2.dispose(),this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t)}}},{}],9:[function(e,t,i){t.exports=THREE.MaskPass=function(e,t){this.scene=e,this.camera=t,this.enabled=!0,this.clear=!0,this.needsSwap=!1,this.inverse=!1},THREE.MaskPass.prototype={render:function(e,t,i,r){var n=e.context;n.colorMask(!1,!1,!1,!1),n.depthMask(!1);var s,o;this.inverse?(s=0,o=1):(s=1,o=0),n.enable(n.STENCIL_TEST),n.stencilOp(n.REPLACE,n.REPLACE,n.REPLACE),n.stencilFunc(n.ALWAYS,s,4294967295),n.clearStencil(o),e.render(this.scene,this.camera,i,this.clear),e.render(this.scene,this.camera,t,this.clear),n.colorMask(!0,!0,!0,!0),n.depthMask(!0),n.stencilFunc(n.EQUAL,1,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)}},THREE.ClearMaskPass=function(){this.enabled=!0},THREE.ClearMaskPass.prototype={render:function(e,t,i,r){var n=e.context;n.disable(n.STENCIL_TEST)}}},{}],10:[function(e,t,i){t.exports=THREE.RenderPass=function(e,t,i,r,n){this.scene=e,this.camera=t,this.overrideMaterial=i,this.clearColor=r,this.clearAlpha=void 0!==n?n:1,this.oldClearColor=new THREE.Color,this.oldClearAlpha=1,this.enabled=!0,this.clear=!0,this.needsSwap=!1},THREE.RenderPass.prototype={render:function(e,t,i,r){this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),e.render(this.scene,this.camera,i,this.clear),this.clearColor&&e.setClearColor(this.oldClearColor,this.oldClearAlpha),this.scene.overrideMaterial=null}}},{}],11:[function(e,t,i){t.exports=THREE.ShaderPass=function(e,t){this.textureID=void 0!==t?t:"tDiffuse",this.uniforms=THREE.UniformsUtils.clone(e.uniforms),this.material=new THREE.ShaderMaterial({defines:e.defines||{},uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}),this.renderToScreen=!1,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.scene.add(this.quad)},THREE.ShaderPass.prototype={render:function(e,t,i,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}}},{}],12:[function(e,t,i){function r(e){this.canvas=document.querySelector(".canvas"),this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=275,this.camera.lookAt=new THREE.Vector3,this.scene=new THREE.Scene,this.renderer=new THREE.WebGLRenderer({alpha:!0,canvas:this.canvas}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.circle=[],this.geometry=[],this.geometrySleeve=[],this.geometryList=[new THREE.TetrahedronGeometry(50,0),new THREE.IcosahedronGeometry(40,0),new THREE.OctahedronGeometry(40,0)],this.composer=new s(this.renderer),this.mouse={x:0,y:0},this.music=e,this.clicked=!1}var n=e("./lib/int"),s=e("./processing/effectcomposer"),o=(e("./processing/maskpass"),e("./processing/renderpass")),a=e("./processing/shaderpass"),c=(e("./shaders/copyshader"),e("./shaders/rgbshift"));t.exports=r,r.GEOMETRY_LENGTH=100,r.prototype.createGeometry=function(){var e=n(0,this.geometryList.length-1);this.circle=new THREE.Object3D;for(var t=0;t<r.GEOMETRY_LENGTH;t++)this.geometry[t]=new THREE.Mesh(this.geometryList[e],new THREE.MeshPhongMaterial({color:16777215,wireframe:!0})),this.geometry[t].position.y=100,this.geometrySleeve[t]=new THREE.Object3D,this.geometrySleeve[t].add(this.geometry[t]),this.geometrySleeve[t].rotation.z=t*(360/r.GEOMETRY_LENGTH)*Math.PI/180,this.circle.add(this.geometrySleeve[t]);this.scene.add(this.circle)},r.prototype.createLight=function(){var e;e=new THREE.DirectionalLight(16777215,1),e.position.set(1,1,1),this.scene.add(e),e=new THREE.DirectionalLight(16777215,1),e.position.set(-1,-1,1),this.scene.add(e)},r.prototype.createShaders=function(){var e;this.composer.addPass(new o(this.scene,this.camera)),e=new a(c),e.uniforms.amount.value=.05,e.renderToScreen=!0,this.composer.addPass(e),this.renderer.render(this.scene,this.camera),this.effect=e},r.prototype.render=function(){requestAnimationFrame(this.render.bind(this)),this.clicked?TweenLite.to(this.effect.uniforms.amount,1,{value:.005}):TweenLite.to(this.effect.uniforms.amount,1,{value:this.mouse.x/window.innerWidth});for(var e=0;e<r.GEOMETRY_LENGTH;e++){var t=1;(window.AudioContext||window.webkitAudioContext)&&(t=this.music.getFrequency()[e]/256*2.5+.01),this.clicked?(TweenLite.to(this.geometry[e].scale,.1,{x:t,y:t,z:t}),e%2==0?TweenLite.to(this.geometry[e].rotation,.1,{z:"+= 0.1"}):TweenLite.to(this.geometry[e].rotation,.1,{z:"-= 0.1"})):TweenLite.to(this.geometry[e].scale,.1,{z:t})}this.circle.rotation.z+=.01,this.renderer.render(this.scene,this.camera),this.composer.render()},r.prototype.resize=function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},r.prototype.mousemove=function(e){this.mouse.x=e.clientX-window.innerWidth/2,this.mouse.y=e.clientY-window.innerHeight/2},r.prototype.click=function(){if(this.clicked){for(var e=0;e<r.GEOMETRY_LENGTH;e++)TweenLite.to(this.geometry[e].scale,1,{x:1,y:1,z:1}),TweenLite.to(this.geometry[e].rotation,1,{x:0,y:0,z:0}),TweenLite.to(this.geometry[e].position,1,{x:0,y:100,z:0});this.clicked=!1}else{for(var e=0;e<r.GEOMETRY_LENGTH;e++)TweenLite.to(this.geometry[e].rotation,1,{x:n(0,Math.PI),y:n(0,Math.PI),z:n(0,Math.PI)}),TweenLite.to(this.geometry[e].position,1,{x:"+= "+n(-1e3,1e3),y:"+= "+n(-1e3,1e3),z:"+= "+n(-500,-250)});this.clicked=!0}}},{"./lib/int":3,"./processing/effectcomposer":8,"./processing/maskpass":9,"./processing/renderpass":10,"./processing/shaderpass":11,"./shaders/copyshader":13,"./shaders/rgbshift":14}],13:[function(e,t,i){t.exports=THREE.CopyShader={uniforms:{tDiffuse:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}},{}],14:[function(e,t,i){t.exports=THREE.RGBShiftShader={uniforms:{tDiffuse:{type:"t",value:null},amount:{type:"f",value:.005},angle:{type:"f",value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform float amount;","uniform float angle;","varying vec2 vUv;","void main() {","vec2 offset = amount * vec2( cos(angle), sin(angle));","vec4 cr = texture2D(tDiffuse, vUv + offset);","vec4 cga = texture2D(tDiffuse, vUv);","vec4 cb = texture2D(tDiffuse, vUv - offset);","gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);","}"].join("\n")}},{}]},{},[5]);