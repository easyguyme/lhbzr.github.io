document.addEventListener("DOMContentLoaded",function(){function a(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function b(a,b,c){return a.substr(0,b)+c+a.substr(b+1)}function c(){m=new(window.AudioContext||window.webkitAudioContext),n=document.createElement("audio"),p=new XMLHttpRequest,p.open("GET","dist/music/black-cat.mp3",!0),p.responseType="blob",p.onload=function(a){o=document.createElement("source"),o.src=(window.URL||window.webkitURL||{}).createObjectURL(this.response),o.type="audio/mp3",n.appendChild(o)},p.send(),q=m.createMediaElementSource(n),r=m.createAnalyser(),r.smoothingTimeConstant=.25,r.fftSize=2048,q.connect(r),r.connect(m.destination),s=new Uint8Array(r.frequencyBinCount),n.play(),n.addEventListener("ended",function(){n.play()})}function d(){t=new THREE.Scene,u=new THREE.PerspectiveCamera(75,h/i,.1,1e3),u.position.z=250,t.add(u),v=new THREE.WebGLRenderer({alpha:!0,canvas:j}),v.setClearColor(16777215,0),v.setSize(h,i),w=new THREE.DirectionalLight(16777215,1),w.position.set(1,1,1),t.add(w),w=new THREE.DirectionalLight(16777215,1),w.position.set(-1,-1,1),t.add(w),z=new THREE.Object3D,A=[],B=[];for(var a=0;C>a;a++)A[a]=new THREE.Mesh(new THREE.TetrahedronGeometry(50,0),new THREE.MeshPhongMaterial({color:16777215})),A[a].position.y=100,B[a]=new THREE.Object3D,B[a].add(A[a]),B[a].rotation.z=a*(360/C)*Math.PI/180,z.add(B[a]);t.add(z),x=new THREE.EffectComposer(v),x.addPass(new THREE.RenderPass(t,u)),y=new THREE.ShaderPass(THREE.DotScreenShader),y.uniforms.scale.value=5,x.addPass(y),y=new THREE.ShaderPass(THREE.RGBShiftShader),y.uniforms.amount.value=.005,y.renderToScreen=!0,x.addPass(y),v.render(t,u)}function e(){for(var a=0;C>a;a++)A[a].scale.z=s[a]/256*2+.01;z.rotation.z+=.01,v.render(t,u),x.render(),r.getByteFrequencyData(s),requestAnimationFrame(e)}function f(){i=window.innerHeight,h=window.innerWidth,u.aspect=h/i,u.updateProjectionMatrix(),v.setSize(h,i)}for(var g,h=window.innerWidth,i=window.innerHeight,j=(document.querySelector(".intro"),document.querySelector(".intro-canvas")),k=document.querySelectorAll(".intro-link"),l=0;l<k.length;l++)k[l].addEventListener("mouseover",function(){var c=this;g=setInterval(function(){var d=c.innerHTML.trim();c.innerHTML=b(d,a(0,d.length-1),String.fromCharCode(a(65,122)))},50)}),k[l].addEventListener("mouseout",function(){clearInterval(g);var a=this,c=a.getAttribute("data-text"),d=0,e=setInterval(function(){if(d<c.length){var f=a.innerHTML.trim();a.innerHTML=b(f,d,c[d])}else clearInterval(e);d++},50)});var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C=100;window.addEventListener("resize",f),function(){c(),d(),e()}()});
