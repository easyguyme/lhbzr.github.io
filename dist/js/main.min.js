!function(){function a(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function b(a,b,c){return a.substr(0,b)+c+a.substr(b+1)}function c(){q=new(window.AudioContext||window.webkitAudioContext),t=document.createElement("audio"),t.autoplay=!0;var a=new XMLHttpRequest;a.open("GET","dist/music/black-cat.mp3",!0),a.responseType="blob",a.onload=function(a){r=document.createElement("source"),r.src=(window.URL||window.webkitURL||{}).createObjectURL(this.response),r.type="audio/mp3",t.appendChild(r)},a.send(),v=q.createMediaElementSource(t),s=q.createAnalyser(),s.smoothingTimeConstant=.3,s.fftSize=512,v.connect(s),s.connect(q.destination),u=new Uint8Array(s.frequencyBinCount),h=new THREE.Scene,i=new THREE.PerspectiveCamera(75,w/x,.1,1e3),i.position.z=250,h.add(i),j=new THREE.WebGLRenderer({canvas:y}),j.setSize(w,x),j.setClearColor(2105376),k=new THREE.DirectionalLight(16777215,1),k.position.set(1,1,1),h.add(k),k=new THREE.DirectionalLight(16777215,1),k.position.set(-1,-1,1),h.add(k),n=new THREE.Object3D,o=[],p=[];for(var b=0;50>b;b++)o[b]=new THREE.Mesh(new THREE.TetrahedronGeometry(50,0),new THREE.MeshPhongMaterial),o[b].position.y=100,p[b]=new THREE.Object3D,p[b].add(o[b]),p[b].rotation.z=7.2*b*Math.PI/180,n.add(p[b]);h.add(n),l=new THREE.EffectComposer(j),l.addPass(new THREE.RenderPass(h,i)),m=new THREE.ShaderPass(THREE.DotScreenShader),m.uniforms.scale.value=5,l.addPass(m),m=new THREE.ShaderPass(THREE.RGBShiftShader),m.uniforms.amount.value=.005,m.renderToScreen=!0,l.addPass(m),j.render(h,i),t.play()}function d(){requestAnimationFrame(d);for(var a=0;50>a;a++)o[a].scale.z=u[a]/256*2.5+.01;n.rotation.z+=.01,j.render(h,i),l.render(),s.getByteFrequencyData(u)}for(var e,f=document.querySelectorAll(".header-link"),g=0;g<f.length;g++)f[g].addEventListener("mouseover",function(){var c=this;e=setInterval(function(){var d=c.innerHTML.trim();c.innerHTML=b(d,a(0,d.length-1),String.fromCharCode(a(65,122)))},50)}),f[g].addEventListener("mouseout",function(){clearInterval(e);var a=this,c=a.getAttribute("data-text"),d=0,f=setInterval(function(){if(d<c.length){var e=a.innerHTML.trim();a.innerHTML=b(e,d,c[d])}else clearInterval(f);d++},50)});var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=window.innerWidth,x=window.innerHeight,y=(document.querySelector(".header"),document.querySelector(".header-canvas"));c(),d(),window.addEventListener("resize",function(){x=window.innerHeight,w=window.innerWidth,i.aspect=w/x,i.updateProjectionMatrix(),j.setSize(w,x)})}();
